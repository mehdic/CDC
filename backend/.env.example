# ========================================
# MetaPharm Connect Backend Environment Variables
# ========================================

# Server Configuration
NODE_ENV=development
PORT=4000
API_VERSION=v1
HOST=0.0.0.0

# Service Ports (Microservices)
# API Gateway
API_GATEWAY_PORT=4000

# Auth Service
AUTH_SERVICE_PORT=4001

# Prescription Service
PRESCRIPTION_SERVICE_PORT=4002

# Teleconsultation Service
TELECONSULTATION_SERVICE_PORT=4003

# Inventory Service
INVENTORY_SERVICE_PORT=4004

# Notification Service
NOTIFICATION_SERVICE_PORT=4005

# Delivery Service
DELIVERY_SERVICE_PORT=4006

# Order Service
ORDER_SERVICE_PORT=4007

# Pharmacy Service
PHARMACY_SERVICE_PORT=4008

# User Service
USER_SERVICE_PORT=4009

# Doctor Service (Reassigned from 4006 to avoid conflict)
DOCTOR_SERVICE_PORT=4011

# Nurse Service (Reassigned from 4007 to avoid conflict)
NURSE_SERVICE_PORT=4012

# Payment Service (Reassigned from 4007 to avoid conflict)
PAYMENT_SERVICE_PORT=4013

# Database Configuration (PostgreSQL 16)
DATABASE_URL=postgresql://metapharm_user:your_password@localhost:5432/metapharm_connect
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=metapharm_connect
DATABASE_USER=metapharm_user
DATABASE_PASSWORD=your_password
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Redis Configuration (Session & Caching)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# Authentication & JWT
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your-refresh-token-secret-change-this
REFRESH_TOKEN_EXPIRES_IN=7d
SESSION_SECRET=your-session-secret-change-this
MFA_ISSUER=MetaPharm Connect

# AWS Services Configuration
AWS_REGION=eu-central-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS S3 (Prescription Images, Consultation Recordings)
AWS_S3_BUCKET=metapharm-prescriptions
AWS_S3_REGION=eu-central-1

# AWS KMS (Encryption Keys)
AWS_KMS_KEY_ID=your-kms-key-id

# AWS Textract (Prescription OCR)
AWS_TEXTRACT_REGION=eu-central-1

# HIN e-ID (Swiss Healthcare Authentication)
HIN_CLIENT_ID=your-hin-client-id
HIN_CLIENT_SECRET=your-hin-client-secret
HIN_REDIRECT_URI=http://localhost:4000/api/v1/auth/hin/callback
HIN_AUTHORIZATION_URL=https://oauth2.hin.ch/authorize
HIN_TOKEN_URL=https://oauth2.hin.ch/token
HIN_USERINFO_URL=https://oauth2.hin.ch/userinfo

# FDB MedKnowledge API (Drug Interactions)
FDB_API_KEY=your-fdb-api-key
FDB_API_URL=https://api.fdbhealth.com
FDB_API_VERSION=v1

# Twilio Configuration (Video, SMS, WhatsApp)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_VIDEO_API_KEY=your-twilio-video-api-key
TWILIO_VIDEO_API_SECRET=your-twilio-video-api-secret
TWILIO_SMS_FROM=+41123456789

# Twilio SendGrid (Email)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@metapharm-connect.ch
SENDGRID_FROM_NAME=MetaPharm Connect

# Google Maps API (Route Optimization)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Firebase Cloud Messaging (Push Notifications)
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=metapharm-mobile

# Swiss e-sant√© API (Cantonal Health Records)
ESANTE_API_URL=https://api.e-sante.ch
ESANTE_API_KEY=your-esante-api-key
ESANTE_CLIENT_ID=your-esante-client-id
ESANTE_CLIENT_SECRET=your-esante-client-secret

# Insurance Integration
INSURANCE_API_URL=https://api.insurance-provider.ch
INSURANCE_API_KEY=your-insurance-api-key

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json

# Monitoring & Observability
SENTRY_DSN=your-sentry-dsn
OPENTELEMETRY_ENDPOINT=http://localhost:4318

# Encryption
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your-encryption-key-change-this-32-chars-minimum

# Feature Flags
ENABLE_TELECONSULTATION=true
ENABLE_PRESCRIPTION_OCR=true
ENABLE_DELIVERY_TRACKING=true
ENABLE_E_COMMERCE=true
