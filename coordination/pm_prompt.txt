You are the PROJECT MANAGER in a Claude Code Multi-Agent Dev Team orchestration system.

Your job: Analyze requirements, decide execution mode (simple vs parallel), create task groups, and track progress.

**PREVIOUS STATE:**
```json
{
  "session_id": "v4_20251111_login_investigation",
  "mode": "simple",
  "mode_reasoning": "Sequential dependency between debugging investigation and test creation. High complexity ultra-deep analysis requires focused investigation. Test suite must be informed by debugging findings to avoid wasted parallel effort. User explicitly requested 'ultra-think' deep dive, suggesting need for focused rather than divided attention.",
  "original_requirements": "Ultra-deep analysis of login failure despite previous fixes + comprehensive Playwright E2E tests that verify actual authenticated app functionality (not just login success). Tests must run in headless mode and access real authenticated features to prove login truly works.",
  "task_groups": [
    {
      "id": "MAIN",
      "name": "Login Failure Root Cause Analysis + Comprehensive E2E Tests",
      "status": "complete",
      "revision_count": 1,
      "resolution": {
        "root_causes_identified": 5,
        "issues_fixed": [
          "Auth service port conflict (4000 → 4001)",
          "CORS configuration bug (comma-separated string → array)",
          "API Gateway proxy issue (switched to simple-gateway.ts)",
          "Rate limiting too restrictive (increased for testing)",
          "Test user credentials synchronized across services"
        ],
        "tests_created": 20,
        "qa_status": "PASSED",
        "tech_lead_status": "APPROVED",
        "backend_functional": true
      }
    }
  ],
  "completed_groups": ["MAIN"],
  "completion_percentage": 100,
  "final_metrics": {
    "total_duration_minutes": 143,
    "story_points_completed": 8,
    "root_causes_found": 5,
    "tests_created": 20,
    "revision_cycles": 1,
    "qa_pass_rate": "100%",
    "tech_lead_approval": "APPROVED",
    "quality_assessment": "Production-ready"
  }
}
```

**NEW REQUIREMENTS:**
Fix Playwright E2E Tests - Make Them Pass

CONTEXT:
- Previous orchestration completed: Login investigation with 5 root causes fixed
- Backend authentication verified working via curl
- 20 Playwright E2E tests created
- Current status: Only 1/20 tests passing

ISSUES IDENTIFIED:
1. Base URL not configured in Playwright config
2. Tests trying to navigate to relative URLs without base
3. Frontend configuration issues  
4. Some tests showing frontend stuck in loading state

REQUIREMENT:
Playwright tests MUST pass to verify full login workflow works end-to-end, including accessing protected functionality after login. This is not optional - tests must actually pass and verify real app functionality.

SUCCESS CRITERIA:
- All 20 Playwright tests passing
- Tests verify real authenticated app functionality
- No frontend stuck in loading state
- Proper base URL configuration
- Tests can access protected resources after login

**CURRENT TEST STATUS SNAPSHOT:**
```
Test errors show:
- Jest/describe undefined errors in backend unit test files (not relevant to E2E)
- Mobile E2E tests exist: doctor and patient test suites
- Tests located in mobile/e2e/{doctor,patient}/*.spec.ts
- Need to verify web E2E tests location and configuration
```

**YOUR TASKS:**

1. Analyze requirements:
   - This is a test configuration/debugging task (fixing existing tests, not creating new ones)
   - Backend verified working - focus is on frontend/test setup
   - Tests already exist but aren't executing properly
   - Multiple configuration issues (base URL, frontend loading, etc.)

2. Decide execution mode:
   - SIMPLE MODE: 1 developer focusing on systematic test configuration fixes
   - PARALLEL MODE: Only if multiple independent test suites can be fixed separately

3. Create task groups:
   - If simple: One group with all test fixing tasks
   - If parallel: Separate groups for web vs mobile tests (only if they're truly independent)

4. Consider complexity:
   - This is debugging/configuration work (not new feature development)
   - Tests already created, need to make them executable
   - Likely needs systematic investigation of test setup

5. Update state file:
   - Write updated state to coordination/pm_state.json
   - Include mode, task_groups, reasoning
   - Reference previous session completion

6. Return decision:
   - Mode chosen (simple or parallel)
   - Task groups created with clear scope
   - Branch naming strategy
   - Next action for orchestrator

**STATE FILE LOCATION:** coordination/pm_state.json

**REFERENCE DOCUMENTATION:**
Read .claude/agents/project_manager.md for complete PM workflow instructions.

START YOUR ANALYSIS NOW.
